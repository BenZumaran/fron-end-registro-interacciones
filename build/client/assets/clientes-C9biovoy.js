import{w as g}from"./with-props-D6P1vN0Z.js";import{p as x,l as e}from"./chunk-D52XG6IA-Crw0zIzM.js";const f=g(function({loaderData:a}){const c=x();function i(r){var o;const l=document.getElementById("default-modal");if(l==null||l.classList.toggle("hidden"),r===-1){const d=document.getElementById("formActualizaCliente");d==null||d.reset();return}let t=document.getElementById("numCliente");t.value=a.data[r].numCliente||"",t=document.getElementById("nombre"),t.value=a.data[r].nombresCliente||"",t=document.getElementById("correo"),t.value=a.data[r].correoCliente||"",t=document.getElementById("fechaNacimiento"),t.value=a.data[r].fechaNacimientoCliente||"",t=document.getElementById("telefono"),t.value=a.data[r].telefonoCliente||"",t=document.getElementById("tipoDocumento"),t.value=((o=a.data[r].tipoDocumentocliente)==null?void 0:o.idTipo)||-1,t=document.getElementById("numeroDocumento"),t.value=a.data[r].documentoCliente||"",t=document.getElementById("empresa"),t.value=a.data[r].empresaCliente.rucEmpresa||""}async function m(r){var n;const l=new Date(r.target.fechaNacimiento.value);let t=l.getDate()<10?"0"+l.getDate():l.getDate(),o=l.getMonth()+1<10?"0"+(l.getMonth()+1):l.getMonth()+1,u=l.getFullYear()+"-"+o+"-"+t;if(r.preventDefault(),(await fetch("http://localhost:8090/api/v1/cliente/registra",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({numCliente:r.target.numCliente.value,tipoDocumentocliente:{idTipo:r.target.tipoDocumento.value},documentoCliente:r.target.numeroDocumento.value,nombresCliente:r.target.nombre.value,fechaNacimientoCliente:u,correoCliente:r.target.correo.value,telefonoCliente:r.target.telefono.value,empresaCliente:{rucEmpresa:r.target.empresa.value}})})).ok){alert("Cliente actualizado correctamente"),(n=document.getElementById("formActualizaCliente"))==null||n.reset();const s=document.getElementById("default-modal");s==null||s.classList.toggle("hidden"),c(0)}else alert("Error al actualizar cliente")}return e.jsxs("section",{className:"bg-gray-50 dark:bg-gray-900 p-3 sm:p-5",children:[e.jsx("div",{className:"mx-auto max-w-screen-xl px-4 lg:px-12",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 relative shadow-md sm:rounded-lg overflow-hidden",children:[e.jsx("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-4",children:e.jsx("div",{className:"w-full md:w-1/2",children:e.jsxs("form",{className:"flex items-center",children:[e.jsx("label",{htmlFor:"simple-search",className:"sr-only",children:"Search"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx("svg",{"aria-hidden":"true",className:"w-5 h-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),e.jsx("input",{type:"text",id:"simple-search",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 block w-full pl-10 p-2 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",placeholder:"Search",required:!0})]})]})})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Número"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Nombre Cliente"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Correo Cliente"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Documento Cliente"}),e.jsx("th",{scope:"col",className:"px-4 py-3",children:"Acciones"})]})}),e.jsx("tbody",{children:a.data&&a.data.map((r,l)=>e.jsxs("tr",{className:"border-b dark:border-gray-700",children:[e.jsx("th",{scope:"row",className:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap dark:text-white",children:r.numCliente}),e.jsx("td",{className:"px-4 py-3",children:r.nombresCliente}),e.jsx("td",{className:"px-4 py-3",children:r.correoCliente}),e.jsx("td",{className:"px-4 py-3",children:r.documentoCliente}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{type:"button",className:"text-white bg-yellow-400 hover:bg-yellow-500 focus:outline-none focus:ring-4 focus:ring-yellow-300 font-medium rounded-full text-sm px-5 py-2.5 text-center me-2 mb-2 dark:focus:ring-yellow-900",onClick:()=>i(l),children:"Editar"})})]}))})]})})]})}),e.jsx("div",{id:"default-modal",tabIndex:-1,"aria-hidden":"true",className:"hidden overflow-y-auto overflow-x-hidden z-50 justify-center items-center w-full h-full md:inset-0 h-[calc(100%-1rem)]",style:{position:"fixed",padding:"10vh 28vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"relative p-4 w-full max-w-2xl max-h-full",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Editar Cliente"}),e.jsxs("button",{type:"button",className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide":"default-modal",onClick:()=>i(-1),children:[e.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),e.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),e.jsx("div",{className:"mx-auto my-10 h-fit w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700",children:e.jsxs("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-8 h-fit",children:[e.jsx("h1",{className:"text-xl font-bold text-center leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"Actualiza Cliente"}),e.jsxs("form",{className:"space-y-4 md:space-y-6",method:"POST",id:"formActualizaCliente",onSubmit:m,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"numCliente",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Número Cliente"}),e.jsx("input",{type:"text",name:"numCliente",id:"numCliente",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0,disabled:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nombre",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Nombres"}),e.jsx("input",{type:"text",name:"nombre",id:"nombre",placeholder:"Nombre y Apellido genérico",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"correo",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Correo"}),e.jsx("input",{type:"email",name:"correo",id:"correo",placeholder:"ejemplo@empresa.com.pe",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fechaNacimiento",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Fecha de Nacimiento"}),e.jsx("input",{type:"date",name:"fechaNacimiento",id:"fechaNacimiento",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"telefono",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Telefono"}),e.jsx("input",{type:"number",name:"telefono",id:"telefono",placeholder:"987548452",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tipoDocumento",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Tipo Documento"}),e.jsxs("select",{id:"tipoDocumento",name:"tipoDocumento",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[e.jsx("option",{value:-1,selected:!0,children:"Tipo de Documento"}),a.tipo&&a.tipo.map(r=>e.jsx("option",{value:r.idTipo,children:r.descripcionTipo},r.idTipo))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"numeroDocumento",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Número de Documento"}),e.jsx("input",{type:"text",name:"numeroDocumento",id:"numeroDocumento",placeholder:"74562156",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"empresa",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Empresa"}),e.jsxs("select",{id:"empresa",name:"empresa",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[e.jsx("option",{selected:!0,children:"Empresa"}),a.empresa&&a.empresa.map(r=>e.jsx("option",{value:r.rucEmpresa,children:r.razonSocialEmpresa},r.rucEmpresa))]})]}),e.jsx("button",{type:"submit",className:" text-white bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm px-5 py-2.5 text-center me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 w-full",children:"Actualizar Cliente"})]})]})})]})})})]})});export{f as default};
